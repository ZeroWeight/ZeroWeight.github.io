

<!doctype html>
<html lang="en" class="no-js">
  <head>
    

<meta charset="utf-8">



<!-- begin SEO -->









<title>Introductory Digital Design Laboratory - Weitong Zhang</title>







<meta property="og:locale" content="en-US">
<meta property="og:site_name" content="Weitong Zhang">
<meta property="og:title" content="Introductory Digital Design Laboratory">


  <link rel="canonical" href="https://web.cs.ucla.edu/~weightzero/teaching/CSM152A-21S">
  <meta property="og:url" content="https://web.cs.ucla.edu/~weightzero/teaching/CSM152A-21S">



  <meta property="og:description" content="">





  

  












  <script type="application/ld+json">
    {
      "@context" : "http://schema.org",
      "@type" : "Person",
      "name" : "Weitong Zhang",
      "url" : "https://web.cs.ucla.edu/~weightzero",
      "sameAs" : null
    }
  </script>






<!-- end SEO -->


<link href="https://web.cs.ucla.edu/~weightzero/feed.xml" type="application/atom+xml" rel="alternate" title="Weitong Zhang Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="https://web.cs.ucla.edu/~weightzero/assets/css/main.css">

<meta http-equiv="cleartype" content="on">
    

<!-- start custom head snippets -->

<!-- <link rel="apple-touch-icon" sizes="57x57" href="https://web.cs.ucla.edu/~weightzero/images/apple-touch-icon-57x57.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="60x60" href="https://web.cs.ucla.edu/~weightzero/images/apple-touch-icon-60x60.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="72x72" href="https://web.cs.ucla.edu/~weightzero/images/apple-touch-icon-72x72.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="76x76" href="https://web.cs.ucla.edu/~weightzero/images/apple-touch-icon-76x76.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="114x114" href="https://web.cs.ucla.edu/~weightzero/images/apple-touch-icon-114x114.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="120x120" href="https://web.cs.ucla.edu/~weightzero/images/apple-touch-icon-120x120.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="144x144" href="https://web.cs.ucla.edu/~weightzero/images/apple-touch-icon-144x144.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="152x152" href="https://web.cs.ucla.edu/~weightzero/images/apple-touch-icon-152x152.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="180x180" href="https://web.cs.ucla.edu/~weightzero/images/apple-touch-icon-180x180.png?v=M44lzPylqQ">
<link rel="icon" type="image/png" href="https://web.cs.ucla.edu/~weightzero/images/favicon-32x32.png?v=M44lzPylqQ" sizes="32x32">
<link rel="icon" type="image/png" href="https://web.cs.ucla.edu/~weightzero/images/android-chrome-192x192.png?v=M44lzPylqQ" sizes="192x192">
<link rel="icon" type="image/png" href="https://web.cs.ucla.edu/~weightzero/images/favicon-96x96.png?v=M44lzPylqQ" sizes="96x96">
<link rel="icon" type="image/png" href="https://web.cs.ucla.edu/~weightzero/images/favicon-16x16.png?v=M44lzPylqQ" sizes="16x16"> -->
<link rel="manifest" href="https://web.cs.ucla.edu/~weightzero/images/manifest.json?v=M44lzPylqQ">
<!-- <link rel="mask-icon" href="https://web.cs.ucla.edu/~weightzero/images/safari-pinned-tab.svg?v=M44lzPylqQ" color="#000000"> -->
<!-- <link rel="shortcut icon" href="/images/favicon.ico?v=M44lzPylqQ"> -->
<meta name="msapplication-TileColor" content="#000000">
<meta name="msapplication-TileImage" content="https://web.cs.ucla.edu/~weightzero/images/mstile-144x144.png?v=M44lzPylqQ">
<meta name="msapplication-config" content="https://web.cs.ucla.edu/~weightzero/images/browserconfig.xml?v=M44lzPylqQ">
<meta name="theme-color" content="#ffffff">
<link rel="stylesheet" href="https://web.cs.ucla.edu/~weightzero/assets/css/academicons.css"/>

<script type="text/x-mathjax-config"> MathJax.Hub.Config({ TeX: { equationNumbers: { autoNumber: "all" } } }); </script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/latest.js?config=TeX-MML-AM_CHTML' async></script>

<!-- end custom head snippets -->

  </head>

  <body>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->
    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <button><div class="navicon"></div></button>
        <ul class="visible-links">
          <li class="masthead__menu-item masthead__menu-item--lg"><a href="https://web.cs.ucla.edu/~weightzero/">Weitong Zhang</a></li>
          
            
            <li class="masthead__menu-item"><a href="https://web.cs.ucla.edu/~weightzero/publications/">Publications</a></li>
          
            
            <li class="masthead__menu-item"><a href="https://web.cs.ucla.edu/~weightzero/talks/">Talks</a></li>
          
            
            <li class="masthead__menu-item"><a href="https://web.cs.ucla.edu/~weightzero/teaching/">Teaching</a></li>
          
            
            <li class="masthead__menu-item"><a href="https://web.cs.ucla.edu/~weightzero/year-archive/">Blog Posts</a></li>
          
            
            <li class="masthead__menu-item"><a href="https://web.cs.ucla.edu/~weightzero/cv/">CV</a></li>
          
        </ul>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>

    





<div id="main" role="main">
  


  <div class="sidebar sticky">
  



<div itemscope itemtype="http://schema.org/Person">

  <div class="author__avatar">
    
    	<img src="https://web.cs.ucla.edu/~weightzero/images/profile.jpg" class="author__avatar" alt="Weitong Zhang">
    
  </div>

  <div class="author__content">
    <h3 class="author__name">Weitong Zhang</h3>
    <p class="author__bio">Assistant Professor, School of Data Science and Society</p>
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li><i class="fa fa-fw fa-map-marker" aria-hidden="true"></i> Office 4401, ITS Manning</li>
      
      
        <li><i class="fa fa-fw fa-map-marker" aria-hidden="true"></i> UNC, Chapel Hill</li>
      
      
      
        <li><a href="mailto:weitongz [at] unc [dot] edu"><i class="fas fa-fw fa-envelope" aria-hidden="true"></i> Email</a></li>
      
      
       
      
        <li><a href="https://twitter.com/WeitongZhang"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
      
      
      
      
        <li><a href="https://www.linkedin.com/in/weitong-zhang-382671221"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> LinkedIn</a></li>
      
      
      
      
      
      
        <li><a href="https://github.com/ZeroWeight"><i class="fab fa-fw fa-github" aria-hidden="true"></i> Github</a></li>
      
      
      
      
      
      
      
      
      
      
      
      
      
      
        <li><a href="https://scholar.google.com/citations?user=Ec6bzmcAAAAJ"><i class="fas fa-fw fa-graduation-cap"></i> Google Scholar</a></li>
      
      
      
        <li><a href="https://orcid.org/0000-0003-4731-9986"><i class="ai ai-orcid-square ai-fw"></i> ORCID</a></li>
      
      
      
    </ul>
  </div>
</div>

  
  </div>


  <article class="page" itemscope itemtype="http://schema.org/CreativeWork">
    <meta itemprop="headline" content="Introductory Digital Design Laboratory">
    <meta itemprop="description" content="">
    
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 class="page__title" itemprop="headline">Introductory Digital Design Laboratory
</h1>
          
        
        
        
          <p> CS M152A, Lab 1, 2021 Spring, <i>UCLA, Department of Computer Science</i> </p>
        
        
             
        
    
        </header>
      

      <section class="page__content" itemprop="text">
        <!-- TOC -->

<ul>
  <li><a href="#syllabus">Syllabus</a>
    <ul>
      <li><a href="#course-description">Course Description</a></li>
    </ul>
  </li>
  <li><a href="#first-things-first">First Things First</a>
    <ul>
      <li><a href="#how-to-start-with-xilinx-ise-design-suite">How to start with Xilinx ISE design suite</a></li>
      <li><a href="#first-xilinx-project">First Xilinx Project</a></li>
      <li><a href="#getting-started-with-verilog">Getting started with Verilog</a></li>
    </ul>
  </li>
  <li><a href="#summary">Summary</a>
    <ul>
      <li><a href="#students-reviews-selected">Students Reviews (selected)</a></li>
    </ul>
  </li>
</ul>

<!-- /TOC -->

<p>This is <a href="https://ccle.ucla.edu/course/view/21S-COMSCIM152A-1">CS M152A Introductory Digital Design Laboratory</a> by <a href="http://web.cs.ucla.edu/~majid/">Prof. Majid Sarrafzadeh</a> and I work as TA Instructor for Lab 1.</p>

<h1 id="syllabus">Syllabus</h1>

<p>This is a simplified version of the Syllabus, check the full syllabus on <a href="https://ccle.ucla.edu/local/ucla_syllabus/index.php?id=101252">CCLE</a>.</p>

<h2 id="course-description">Course Description</h2>

<p>In this lab class, you will get hands-on experience with design implementation on Field Programmable Gate-Arrays (FPGAs). You will apply what you’ve learned in CS51A or ECE M16 (combinatorial and sequential logic) and implement some designs using modern design tools and Hardware Description Language (HDL).</p>

<p>We have designed several projects for you to implement using the Xilinx ISE design and implementation environment. These projects are intended as tutorials for you to learn how to put designs together, implement them in Verilog HDL, and provide the design in simulation only.</p>

<p>Due to the major concerns regarding the coronavirus outbreak, unfortunately, you will not be able to access the lab or work with the real hardware this quarter. You will work on the designs on your own computer using the free version of Xilinx ISE (Webpack), and will simulate and synthesize the designs before submitting the project.</p>

<h3 id="important-notes">Important Notes</h3>
<ul>
  <li>There will be no teamwork. Each project is graded individually.</li>
  <li>While the course syllabus and structure are similar between sections, the sections are separate in terms of grading and other class activities. Please only contact the instructor or the TA in charge of the section you are enrolled in.</li>
  <li>While the class is being offered online, attendance is required and it will be part of the grading. If you think, for a justified reason, you would not be able to join the class regularly, please contact the instructor and TA (you need to have approval by 04/09/2021)</li>
  <li>All deadlines are fixed and there will be no extensions.</li>
</ul>

<h3 id="schedule">Schedule</h3>

<table>
  <thead>
    <tr>
      <th>Date</th>
      <th>Session Agenda</th>
      <th>Deadline</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Mon, 3/29/2021</td>
      <td>Introduction and Getting to Know Students / Syllabus Overview</td>
      <td> </td>
    </tr>
    <tr>
      <td>Wed, 3/31/2021</td>
      <td>Introduction to FPGA &amp; Verilog / What we need in the course</td>
      <td> </td>
    </tr>
    <tr>
      <td>Mon, 4/5/2021</td>
      <td>Lecture [Verilog + Experiments]</td>
      <td> </td>
    </tr>
    <tr>
      <td>Wed, 4/7/2021</td>
      <td>Project 1 Introduction (FP)</td>
      <td> </td>
    </tr>
    <tr>
      <td>Wed, 4/14/2021</td>
      <td> </td>
      <td>Project 1 Due: Sunday 04/18 - 11:55PM PST, Project 2 release: Sunday 04/18 - 5pm PST</td>
    </tr>
    <tr>
      <td>Mon, 4/19/2021</td>
      <td>Project 2 Introduction (Clk Gen)</td>
      <td> </td>
    </tr>
    <tr>
      <td>Wed, 4/28/2021</td>
      <td> </td>
      <td>Project 2 Due: Sunday 05/02 - 11:55PM PST,  Project 3 release: Sunday 05/02 - 5pm PST</td>
    </tr>
    <tr>
      <td>Mon, 5/3/2021</td>
      <td>Project 3 Introduction (FSM Vending Machine)</td>
      <td> </td>
    </tr>
    <tr>
      <td>Wed, 5/19/2021</td>
      <td>Project 4 Introduction (FSM Parking Meter)</td>
      <td>Project 3 Due: Sunday 05/23 - 11:55PM PST,  Project 4 release: Sunday 05/23 - 5pm PST</td>
    </tr>
    <tr>
      <td>Mon, 5/31/2021</td>
      <td><em>Memorial Day Holiday</em></td>
      <td> </td>
    </tr>
    <tr>
      <td>Wed, 6/2/2021</td>
      <td> </td>
      <td>Project 4 Due: Sunday 06/06 - 11:55PM PST</td>
    </tr>
  </tbody>
</table>

<h1 id="first-things-first">First Things First</h1>
<h2 id="how-to-start-with-xilinx-ise-design-suite">How to start with Xilinx ISE design suite</h2>

<blockquote>
  <p>Xilinx ISE design suite runs in a VM and it takes about 40G storage. TAs are still trying to find some workstations for students with limited storage space. I’ll appreciate it if you can clean up some storage space in your computer.</p>
</blockquote>

<h3 id="download-and-install-ise">Download and Install ISE</h3>
<p>This is my notes for downloading the ISE. This ISE is a VM running in Virtual Box so you can handle that no matter what system you are using. For detailed notes see <a href="https://web.cs.ucla.edu/~weightzero/files/xilinx_installation/installation_guide_windows.pdf">Here</a> and <a href="https://web.cs.ucla.edu/~weightzero/files/xilinx_installation/InstallXilinxISE_VirtualBox.pdf">Here</a>. For Windows user, these two manuscript provide methods to install without a preexisted VirtualBox, but I’ve never tried that. <em>I guess the installer will install a VB for you, lmao</em></p>

<ol>
  <li>
    <p>Install <a href="https://www.virtualbox.org/wiki/Downloads">Virtual Box</a>, follow the instruction or you can simply use <code class="language-plaintext highlighter-rouge">brew install --cask virtualbox</code> on MacOS with <a href="https://brew.sh/">Homebrew</a>.</p>
  </li>
  <li>For the first time user, please register your Xilinx account <a href="https://www.xilinx.com/registration/create-account.html?custtarg=aHR0cHM6Ly93d3cueGlsaW54LmNvbS9teXByb2ZpbGUuaHRtbA==">Here</a>. I used my cs email address (example@cs.ucla.edu) to register, using ucla email address (example@ucla.edu) works as well</li>
  <li>Then download the <a href="https://www.xilinx.com/support/download/index.html/content/xilinx/en/downloadNav/vivado-design-tools/archive-ise.html">ISE Design Suite for Windows 10</a> by choosing  14.7 Windows 10 &gt; 14.7 Windows 10
<img src="https://web.cs.ucla.edu/~weightzero/files/xilinx_installation/xilinx0.png" alt="Xilinx Download" />
    <blockquote>
      <p>This package takes ~40G to install, please note that you need to download the windows 10 version no matter what system you are using.</p>
    </blockquote>
  </li>
  <li>
    <p>You will be navigated to the name and address verification page, I used UCLA as company name (address 404 Westwood plaza Eng VI, 90095) and that works. Click download.</p>
  </li>
  <li>
    <p>The file name should be <code class="language-plaintext highlighter-rouge">Xilinx_ISE_14.7_Win10_14.7_VM_0213_1.zip</code>, unzip it and find <code class="language-plaintext highlighter-rouge">Xilinx_ISE_14.7_Win10_14.7_VM_0213_1/ova/14.7_VM.ova</code></p>
  </li>
  <li>
    <p>Double click it to import to Virtual Box, you can also click <code class="language-plaintext highlighter-rouge">import</code> button on virtual box to import that.
<img src="https://web.cs.ucla.edu/~weightzero/files/xilinx_installation/xilinx1.png" alt="Import page" /></p>
  </li>
  <li>
    <p>Click import, then select the <code class="language-plaintext highlighter-rouge">ISE_14.7_VM_base</code> on the homepage then click start 
<img src="https://web.cs.ucla.edu/~weightzero/files/xilinx_installation/xilinx2.png" alt="Import page" /></p>

    <ul>
      <li>Common error on Mac: <code class="language-plaintext highlighter-rouge">kernel driver not installed (rc=-1908)</code> solution: 
 <img src="https://web.cs.ucla.edu/~weightzero/files/xilinx_installation/xilinx3.png" alt="Mac Error" />
 Try to reinstall the virtualbox by <code class="language-plaintext highlighter-rouge">brew reinstall --cask virtualbox</code>. Then in System Preferences &gt; Security &amp; Privacy, click the lock and give <code class="language-plaintext highlighter-rouge">Oracle America</code> loading privilege.</li>
      <li>Network Configuration: for the sake of simplicity I switch the network (in Settings &gt; Network) to NAT
 <img src="https://web.cs.ucla.edu/~weightzero/files/xilinx_installation/xilinx4.png" alt="Network Config" /></li>
      <li>Common error: <code class="language-plaintext highlighter-rouge">NS_ERROR_INVALID_ARG (0x80070057)</code>, try <a href="https://www.virtualbox.org/ticket/18343">this link</a> and find some solutions. One basic error is you do not have enough space on your disk (~40GB+). But there <em>might</em> be some other issues.</li>
    </ul>
  </li>
  <li>Congratulations! You have successfully installed the ISE.
<img src="https://web.cs.ucla.edu/~weightzero/files/xilinx_installation/xilinx5.png" alt="ISE result" /> The username for that Linux Guest system is <code class="language-plaintext highlighter-rouge">ise</code> and password is <code class="language-plaintext highlighter-rouge">xilinx</code></li>
</ol>

<h3 id="useful-vb-tricks">Useful VB tricks</h3>
<ul>
  <li>
    <p>Create a share folder would help you transfer files in and out the ISE VM. Click <code class="language-plaintext highlighter-rouge">Settings</code> in VirtualBox Manager, under <code class="language-plaintext highlighter-rouge">Shared Folders</code> tag, click the <code class="language-plaintext highlighter-rouge">+</code> button on the right. Enter the folder path for the share folder in your <strong>Host Machine</strong>. Remember to select <code class="language-plaintext highlighter-rouge">Auto-mount</code>. Start your VM and you will see it on the desktop.
<img src="https://web.cs.ucla.edu/~weightzero/files/xilinx_installation/xilinx8.png" alt="Shared folder" /></p>
  </li>
  <li>
    <p>You can make the screen larger by View &gt; Scaled Mode (or <code class="language-plaintext highlighter-rouge">Host + C</code> as hot key). You can make the font larger by (in Guest system) System &gt; Preference &gt; Display &gt; Resolution. In the scaled mode, a lower resolution makes a larger fonts, 1920 x 1080 works fine on my Macbook.</p>
  </li>
  <li>
    <p>Typically you do not need to power off the VM, you can save the state of VM instead.</p>
  </li>
  <li>
    <p>You can boost the performance of VM by allocate more CPU, Memory for that. Check Settings &gt; System for detail. Personally I assign 8GB RAM and 4 CPU cores to that. Do <strong>NOT</strong> change the graphic card and enable 3D acceleration, this would make the latency of the cursor really annoying!</p>
  </li>
</ul>

<h3 id="obtaining-license">Obtaining License</h3>
<ol>
  <li>Log back to <a href="xilinx.com/myprofile.html">Xilinx</a> with your registered account, click <code class="language-plaintext highlighter-rouge">Product Licensing</code> under <code class="language-plaintext highlighter-rouge">Product Support</code>. You may have to finish the Name and Address Verification again.</li>
  <li>On the Product Licensing page &gt; <code class="language-plaintext highlighter-rouge">Create New License</code> tab, check <code class="language-plaintext highlighter-rouge">ISE WebPACK License</code>. Click <code class="language-plaintext highlighter-rouge">Generate Node-Locked License</code> and then <code class="language-plaintext highlighter-rouge">Next</code> on the review page.
<img src="https://web.cs.ucla.edu/~weightzero/files/xilinx_installation/xilinx6.png" alt="Create License" /></li>
  <li>On the <code class="language-plaintext highlighter-rouge">Manage Licenses</code> tab, select the <code class="language-plaintext highlighter-rouge">ISE WebPACK License</code> and click <code class="language-plaintext highlighter-rouge">Download</code>
<img src="https://web.cs.ucla.edu/~weightzero/files/xilinx_installation/xilinx7.png" alt="Manage License" /></li>
  <li>You will obtain a <code class="language-plaintext highlighter-rouge">.lic</code> file and you can transfer it to the ISE VM.</li>
  <li>Start the <code class="language-plaintext highlighter-rouge">Project Navigator</code> in ISE VM, then under the <code class="language-plaintext highlighter-rouge">Help</code> tag, select <code class="language-plaintext highlighter-rouge">Manage License</code>
<img src="https://web.cs.ucla.edu/~weightzero/files/xilinx_installation/xilinx9.png" alt="Manage License VM" /></li>
  <li>Click <code class="language-plaintext highlighter-rouge">load license</code> and find your <code class="language-plaintext highlighter-rouge">.lic</code> file. The manager would ask to overwrite the license file, click <code class="language-plaintext highlighter-rouge">Yes</code>.
<img src="https://web.cs.ucla.edu/~weightzero/files/xilinx_installation/xilinx10.png" alt="Load License VM" /></li>
  <li>Close the manager and you are all set.</li>
</ol>

<h2 id="first-xilinx-project">First Xilinx Project</h2>

<p>Next we will build the very first xilinx project to demonstrate the usage of the ISE.</p>

<h3 id="new-project-and-load-files">New project and load files</h3>
<ul>
  <li>Open ISE and Click on the <code class="language-plaintext highlighter-rouge">New Project</code>, select a location <strong>without space in the path</strong> and Choose the <code class="language-plaintext highlighter-rouge">HDL</code> Project, click <code class="language-plaintext highlighter-rouge">Next</code>
<img src="https://web.cs.ucla.edu/~weightzero/files/xilinx_installation/xilinx11.png" alt="" /></li>
  <li>In the Project Setting page, set <code class="language-plaintext highlighter-rouge">Family</code> to <code class="language-plaintext highlighter-rouge">Spartan6</code> and Device to <code class="language-plaintext highlighter-rouge">XC6SLX16</code>. Then click <code class="language-plaintext highlighter-rouge">Next</code> (twice) to create the project.
<img src="https://web.cs.ucla.edu/~weightzero/files/xilinx_installation/xilinx12.png" alt="" /></li>
  <li>Click <code class="language-plaintext highlighter-rouge">Add Source</code> file on the left to add files (you will need <code class="language-plaintext highlighter-rouge">New Source</code> above to create files.)
<img src="https://web.cs.ucla.edu/~weightzero/files/xilinx_installation/xilinx13.png" alt="" /></li>
  <li>Load the <code class="language-plaintext highlighter-rouge">combinational_gates_muxed.ucf</code> and <code class="language-plaintext highlighter-rouge">combinational_gates_muxed.v</code> and click <code class="language-plaintext highlighter-rouge">Open</code>.
<img src="https://web.cs.ucla.edu/~weightzero/files/xilinx_installation/xilinx14.png" alt="" /></li>
  <li>Configure the files, <code class="language-plaintext highlighter-rouge">.ucf</code> should be associated as <code class="language-plaintext highlighter-rouge">Implement</code> and <code class="language-plaintext highlighter-rouge">.v</code> should be <code class="language-plaintext highlighter-rouge">All</code>, click <code class="language-plaintext highlighter-rouge">OK</code>.
<img src="https://web.cs.ucla.edu/~weightzero/files/xilinx_installation/xilinx15.png" alt="" /></li>
</ul>

<h3 id="load-testbench-and-run">Load testbench and run</h3>
<ul>
  <li>Load test bench file: <code class="language-plaintext highlighter-rouge">combinational_gates_muxed_TB.v</code> and associate it as <code class="language-plaintext highlighter-rouge">Simulation</code>, click <code class="language-plaintext highlighter-rouge">OK</code>.</li>
  <li>Switch to <code class="language-plaintext highlighter-rouge">simulation</code>, select the <code class="language-plaintext highlighter-rouge">..tb.v</code> file. Right click <code class="language-plaintext highlighter-rouge">Simulate Behavioral Model</code> and click on <code class="language-plaintext highlighter-rouge">Process Properties</code>.
<img src="https://web.cs.ucla.edu/~weightzero/files/xilinx_installation/xilinx16.png" alt="" /></li>
  <li>Uncheck <code class="language-plaintext highlighter-rouge">Run for Specified Time</code>, Our simulation is terminated by making a <code class="language-plaintext highlighter-rouge">$finish</code> system task call, click <code class="language-plaintext highlighter-rouge">OK</code>.
<img src="https://web.cs.ucla.edu/~weightzero/files/xilinx_installation/xilinx17.png" alt="" /></li>
  <li>Right click <code class="language-plaintext highlighter-rouge">Simulate Behavioral Model</code> again and select <code class="language-plaintext highlighter-rouge">Run</code> (<code class="language-plaintext highlighter-rouge">Rerun All</code>). You will see the waveform in a new window.’</li>
  <li>Click the “Play” button to run the simulation. You can also add any signals to the waveform by
    <ul>
      <li>Select the instance name (<code class="language-plaintext highlighter-rouge">UUT</code>) in <code class="language-plaintext highlighter-rouge">Instance and Process Name</code> tab</li>
      <li>Select the signal in <code class="language-plaintext highlighter-rouge">Object</code> tab</li>
      <li>Right click &gt; <code class="language-plaintext highlighter-rouge">Add to Wave Window</code>
<img src="https://web.cs.ucla.edu/~weightzero/files/xilinx_installation/xilinx18.png" alt="" /></li>
    </ul>
  </li>
</ul>

<h3 id="view-schematics-then-plase-n-route">View Schematics then Plase-n-Route</h3>
<ul>
  <li>Back to <code class="language-plaintext highlighter-rouge">Implementation</code> mode, double click <code class="language-plaintext highlighter-rouge">View RTL Schematic</code> tag under Processes &gt; Synthesize - XST.</li>
  <li>Select <code class="language-plaintext highlighter-rouge">Start with a schematic of the top-level block</code>, click <code class="language-plaintext highlighter-rouge">OK</code></li>
  <li>Then double click <code class="language-plaintext highlighter-rouge">Implement Design</code> then <code class="language-plaintext highlighter-rouge">Generate File</code>. You will obtain the bit file to downstream to FPGA.
<img src="https://web.cs.ucla.edu/~weightzero/files/xilinx_installation/xilinx19.png" alt="" />
    <blockquote>
      <p>Due to COVID we do not need to do this step in our projects.</p>
    </blockquote>
  </li>
</ul>

<h3 id="write-your-own-code">Write your own code</h3>
<ul>
  <li>For verilog file, click <code class="language-plaintext highlighter-rouge">New Source</code>, then select <code class="language-plaintext highlighter-rouge">Verilog Module</code> and follow the instructions.</li>
  <li>For test bench, click <code class="language-plaintext highlighter-rouge">New Source</code>, then select <code class="language-plaintext highlighter-rouge">Verilog Test Fixture</code> and follow the instructions.</li>
  <li>Since in this class we are only doing simulation, you <strong>do not</strong> need to config the port name, input or output, in the verilog, nor need you write the <code class="language-plaintext highlighter-rouge">.ucf</code> file.</li>
</ul>

<h2 id="getting-started-with-verilog">Getting started with Verilog</h2>

<p>From this section, I will not cover every technical details. Verilog is a comprehensive language. I learnt Verilog all by myself 4 years ago in Tsinghua University so I’m not sure I know every detail of that language. <del><em>That’s the weird tradition in Tsinghua, they ask you to write a vending machine in FPGA but they don’t teach you a single line of Verilog, they ask you to write a chat bot with GUI without teaching you Qt and TCP/IP protocol, lol.</em></del></p>

<p>I found <a href="http://asic-world.com/verilog/">this link</a> very useful and you can almost find every best practice on that. I will also note some interesting fact or methods in this notes (again, this is not &lt; Everything in Verilog &gt;)</p>

<h3 id="define-clock-in-testbench">Define clock in Testbench</h3>
<div class="language-verilog highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">always</span> <span class="p">#</span><span class="mi">5</span> <span class="n">clk</span> <span class="o">=</span> <span class="o">~</span><span class="n">clk</span><span class="p">;</span> <span class="c1">//create a clock with T = 10.</span>
</code></pre></div></div>
<div class="language-verilog highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">always</span> <span class="p">#</span><span class="mi">5</span> <span class="n">clk1</span> <span class="o">=</span> <span class="o">~</span><span class="n">clk</span><span class="p">;</span> 
<span class="k">always</span> <span class="p">#</span><span class="mi">10</span> <span class="n">clk2</span> <span class="o">=</span> <span class="o">~</span><span class="n">clk</span><span class="p">;</span> <span class="c1">// each always env can only support one clock</span>
</code></pre></div></div>

<h3 id="how-to-build-a-hierarchical-design-of-verilog">How to build a hierarchical design of verilog</h3>
<p>From <a href="https://www.intel.com/content/www/us/en/programmable/support/support-resources/design-examples/design-software/verilog/ver_hier.html">this link</a>.</p>
<div class="language-verilog highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//  top.v</span>
<span class="k">module</span> <span class="n">top</span> <span class="p">(</span><span class="n">q</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">out</span><span class="p">);</span>
<span class="kt">input</span> <span class="n">q</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">r</span><span class="p">;</span>
<span class="kt">output</span> <span class="kt">reg</span> <span class="n">out</span><span class="p">;</span>
<span class="kt">reg</span> <span class="n">intsig</span><span class="p">;</span> 
<span class="c1">// (q, p, r) -&gt; bot1 -&gt; intsig -&gt; bot 2 -&gt; out</span>
<span class="cm">/* 
The following is like this in Python:
u1 = new bot1(a=q, b=p, c=intsig)
u2 = new bot2(l=intsig, m=r, n=out)
*/</span>
<span class="n">bot1</span> <span class="n">u1</span><span class="p">(.</span><span class="n">a</span><span class="p">(</span><span class="n">q</span><span class="p">),</span> <span class="p">.</span><span class="n">b</span><span class="p">(</span><span class="n">p</span><span class="p">),</span> <span class="p">.</span><span class="n">c</span><span class="p">(</span><span class="n">intsig</span><span class="p">));</span>
<span class="n">bot2</span> <span class="n">u2</span><span class="p">(.</span><span class="n">l</span><span class="p">(</span><span class="n">intsig</span><span class="p">),</span> <span class="p">.</span><span class="n">m</span><span class="p">(</span><span class="n">r</span><span class="p">),</span> <span class="p">.</span><span class="n">n</span><span class="p">(</span><span class="n">out</span><span class="p">));</span>
<span class="k">endmodule</span>
<span class="c1">//</span>
<span class="c1">// bot1.v</span>
<span class="k">module</span> <span class="n">bot1</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">);</span>
<span class="kt">input</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="c1">// define the input and output inside the module</span>
<span class="kt">output</span> <span class="kt">reg</span> <span class="n">intsig</span><span class="p">;</span> <span class="c1">// and output here, a, b, c only works as formal parameter in `new`</span>
<span class="c1">// some code here</span>
<span class="k">endmodule</span>
<span class="c1">//</span>
<span class="c1">// bot2.v</span>
<span class="k">module</span> <span class="n">bot2</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">n</span><span class="p">);</span>
<span class="kt">input</span> <span class="n">l</span><span class="p">,</span> <span class="n">m</span><span class="p">;</span>
<span class="kt">output</span> <span class="kt">reg</span> <span class="n">n</span><span class="p">;</span>
<span class="c1">//some code here</span>
<span class="k">endmodule</span>
</code></pre></div></div>

<h1 id="summary">Summary</h1>

<p>I was assuming I can keep a single blog of all these projects in the quarter. But it seems I am too busy <del>lazy</del> to do this. I really enjoy working with students for this quarter and really appreciate their positive or constructive suggestions.</p>

<h2 id="students-reviews-selected">Students Reviews (selected)</h2>

<ul>
  <li>
    <p>I really appreciate Weitong’s help during the office hours. He was willing to help explain the difficult concepts of parts of the labs and was even willing to talk about the previous labs and how to make them better even after they were due. Also, he was very fast in responding to emails which I also appreciate a lot.</p>
  </li>
  <li>
    <p>Our TA was great, he was very helpful and his lecture presentations were clear and concise. He was always available to us if we needed it and was knowledgeable about course concepts, able to fix problems and provide recommendations.</p>
  </li>
  <li>
    <p>The TA was very knowledgeable. I learned a lot from him. He was always available outside the classroom via email, and that was very helpful, especially when learning a difficult language like Verilog. His presentations were well done, and I actually appreciate the time we had simply to ask him questions. I like that we had a lot of time away from class.</p>
  </li>
  <li>
    <p>This teaching assistant is very professional and very knowledgeable. He always prepares the material for the lab section very carefully and the project spec are carefully annotated, which are helpful for us to do the projects. I definitely recommend taking this class with him.</p>
  </li>
  <li>
    <p>Weitong was a very kind and helpful TA. This lab class was challenging since we would just have projects thrown at us for us to just complete. However, Weitong is always very responsive to emails, and also holds lots of office hours where we can ask our questions. He was very helpful in giving tips on how to approach projects and I really appreciate the time he puts in to help us succeed!</p>
  </li>
</ul>

        
      </section>

      <footer class="page__meta">
        
        




      </footer>

      

<section class="page__share">
  
    <h4 class="page__share-title">Share on</h4>
  

  <a href="https://twitter.com/intent/tweet?text=https://web.cs.ucla.edu/~weightzero/teaching/CSM152A-21S" class="btn btn--twitter" title="Share on Twitter"><i class="fab fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https://web.cs.ucla.edu/~weightzero/teaching/CSM152A-21S" class="btn btn--facebook" title="Share on Facebook"><i class="fab fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://web.cs.ucla.edu/~weightzero/teaching/CSM152A-21S" class="btn btn--linkedin" title="Share on LinkedIn"><i class="fab fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>

      


  <nav class="pagination">
    
      <a href="#" class="pagination--pager disabled">Previous</a>
    
    
      <a href="https://web.cs.ucla.edu/~weightzero/teaching/CSM152A-21F" class="pagination--pager" title="Introductory Digital Design Laboratory
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
</div>



    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->
<a href="https://web.cs.ucla.edu/~weightzero/sitemap/">Sitemap</a>
<!-- end custom footer snippets -->

        

<div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    
    
    
    
      <li><a href="http://github.com/ZeroWeight"><i class="fab fa-github" aria-hidden="true"></i> GitHub</a></li>
    
    
    <li><a href="https://web.cs.ucla.edu/~weightzero/feed.xml"><i class="fa fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2024 Weitong Zhang. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://github.com/academicpages/academicpages.github.io">AcademicPages</a>, a fork of <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>
    <aside class="sidebar__top">
      <a href="#site-nav"> <i class="fas fa-angle-double-up fa-2x"></i></a>
    </aside>
    <script src="https://web.cs.ucla.edu/~weightzero/assets/js/main.min.js"></script>




  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-176072819-1', 'auto');
  ga('send', 'pageview');
</script>






  </body>
</html>

